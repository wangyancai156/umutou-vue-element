webpackJsonp([17],{V7Qo:function(t,i){},u13p:function(t,i,e){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var n={data:function(){return{id:0,parentId:-1,inquireParent:!1,table:[],sels:[]}},activated:function(){this.initialization()},methods:{initialization:function(){var t=this;this.$http.get("/api/Organization/GetOrganizationView",{params:{id:this.id}}).then(function(i){t.table=i.data[0].Child,i.data.length>0&&0!=i.data[0].Child.length&&(t.parentId=i.data[0].ParentId)})},inquireChildNode:function(t){this.parentId=this.id,this.id=t.Id,this.initialization(),0==this.id?this.inquireParent=!1:this.inquireParent=!0},inquireParentNode:function(){this.id=this.parentId,this.initialization(),0==this.parentId?this.inquireParent=!1:this.inquireParent=!0,console.log(this.parentId),console.log(this.id)},edit:function(t){this.$router.push({path:"/editorganization",query:{model:t}})},selsChange:function(t){this.sels=t},addNode:function(){this.$router.push({path:"addorganization",query:{parentid:this.id}})},deleteNode:function(){var t=this,i="";this.sels.forEach(function(t){i=i+"|"+t.Id}),this.$http.get("/api/Organization/DeleteOrganization",{params:{id:i}}).then(function(i){t.initialization()})}}},a={render:function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("div",{staticClass:"container"},[e("div",{staticClass:"handle-box"},[t.inquireParent?e("el-button",{staticClass:"handle-del mr10",attrs:{type:"primary",icon:"el-icon-back"},on:{click:function(i){t.inquireParentNode()}}},[t._v("返回上一级")]):t._e(),t._v(" "),e("el-button",{staticClass:"handle-del mr10",attrs:{type:"danger",icon:"delete"},on:{click:function(i){t.deleteNode()}}},[t._v(" 批量删除")]),t._v(" "),e("el-button",{staticClass:"handle-del mr10",attrs:{type:"primary",icon:"delete"},on:{click:t.addNode}},[t._v("添加部门")])],1),t._v(" "),e("el-table",{ref:"list",staticStyle:{width:"100%"},attrs:{data:t.table},on:{"selection-change":t.selsChange}},[e("el-table-column",{attrs:{type:"selection"}}),t._v(" "),e("el-table-column",{attrs:{prop:"Id",label:"部门代码"}}),t._v(" "),e("el-table-column",{attrs:{prop:"Name",label:"部门名称"}}),t._v(" "),e("el-table-column",{attrs:{prop:"Description",label:"说明"}}),t._v(" "),e("el-table-column",{attrs:{label:"操作"},scopedSlots:t._u([{key:"default",fn:function(i){return[e("el-button",{attrs:{size:"small"},on:{click:function(e){t.edit(i.row)}}},[t._v("编辑")]),t._v(" "),e("el-button",{attrs:{size:"small",type:"primary"},on:{click:function(e){t.inquireChildNode(i.row)}}},[t._v("下一级")])]}}])})],1)],1)},staticRenderFns:[]};var l=e("VU/8")(n,a,!1,function(t){e("V7Qo")},null,null);i.default=l.exports}});