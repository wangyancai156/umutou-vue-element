webpackJsonp([34],{s6dm:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var l={data:function(){return{Warehouse:{data:[],val:""},WarehouseShelf:{data:[],val:""},InOutReason:{data:[],val:""},Product:{data:[],val:""},Qty:0,Price:0}},activated:function(){this.initialization()},methods:{initialization:function(){this.getWarehouse(),this.getInOutReason(),this.getProduct()},getWarehouse:function(){var e=this;this.$http.get("/api/Warehouse/GetWarehouse",{SessionKey:"N001",UserId:"N001"}).then(function(t){e.Warehouse.data=t.data,e.Warehouse.val=t.data[0].Id,console.log(t.data[0].Id),e.getWarehouseShelf()})},getWarehouseShelf:function(){var e=this;this.$http.get("/api/Warehouse/GetWarehouseShelf",{params:{warehoseId:this.Warehouse.val}}).then(function(t){t.data.length>0?(e.WarehouseShelf.data=t.data,e.WarehouseShelf.val=t.data[0].Id):(e.WarehouseShelf.data=null,e.WarehouseShelf.val=""),console.log(t.data)})},getInOutReason:function(){var e=this;this.$http.get("/api/InOutReason/GetInReason",{}).then(function(t){t.data.length>0&&(e.InOutReason.data=t.data,e.InOutReason.val=t.data[0].Id),console.log(t.data)})},getProduct:function(){var e=this;this.$http.get("/api/Product/GetProductView",{}).then(function(t){e.Product.data=t.data,e.Product.val=t.data[0].Id,console.log(t.data)})},onSubmit:function(){var e=this;this.$http.get("/api/InOutBound/AddInBound",{params:{WarehouseId:this.Warehouse.val,WarehouseShelfId:this.WarehouseShelf.val,InOutReasonId:this.InOutReason.val,ProductId:this.Product.val,Qty:this.Qty,Price:this.Price,Currency:"RMB",Note:"",CreateUserId:"W001"}}).then(function(t){setTimeout(e.$router.push("spotinventory"),1e3)})}}},s={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{staticClass:"container"},[a("div",{staticClass:"form-box"},[a("el-form",{ref:"form",attrs:{"label-width":"80px"}},[a("el-form-item",{attrs:{label:"库房"}},[a("el-select",{staticClass:"handle-select mr10",staticStyle:{width:"150px"},attrs:{clearable:"",placeholder:"请选择库房"},on:{change:e.getWarehouseShelf},model:{value:e.Warehouse.val,callback:function(t){e.$set(e.Warehouse,"val",t)},expression:"Warehouse.val"}},e._l(e.Warehouse.data,function(e){return a("el-option",{key:e.Id,attrs:{label:e.Name,value:e.Id}})}))],1),e._v(" "),a("el-form-item",{attrs:{label:"货架"}},[a("el-select",{staticClass:"handle-select mr10",staticStyle:{width:"150px"},attrs:{clearable:"",placeholder:"请选择货架"},model:{value:e.WarehouseShelf.val,callback:function(t){e.$set(e.WarehouseShelf,"val",t)},expression:"WarehouseShelf.val"}},e._l(e.WarehouseShelf.data,function(e){return a("el-option",{key:e.Id,attrs:{label:e.Name,value:e.Id}})}))],1),e._v(" "),a("el-form-item",{attrs:{label:"入库原因"}},[a("el-select",{staticClass:"handle-select mr10",staticStyle:{width:"150px"},attrs:{clearable:"",placeholder:"请选择入库原因"},model:{value:e.InOutReason.val,callback:function(t){e.$set(e.InOutReason,"val",t)},expression:"InOutReason.val"}},e._l(e.InOutReason.data,function(e){return a("el-option",{key:e.Id,attrs:{label:e.Description,value:e.Id}})}))],1),e._v(" "),a("el-form-item",{attrs:{label:"产品"}},[a("el-select",{staticClass:"handle-select mr10",staticStyle:{width:"150px"},attrs:{clearable:"",placeholder:"请选择产品"},model:{value:e.Product.val,callback:function(t){e.$set(e.Product,"val",t)},expression:"Product.val"}},e._l(e.Product.data,function(e){return a("el-option",{key:e.Id,attrs:{label:e.ChineseName,value:e.Id}})}))],1),e._v(" "),a("el-form-item",{attrs:{label:"数量"}},[a("el-input",{attrs:{type:"number"},model:{value:e.Qty,callback:function(t){e.Qty=t},expression:"Qty"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"单价"}},[a("el-input",{attrs:{type:"number"},model:{value:e.Price,callback:function(t){e.Price=t},expression:"Price"}})],1),e._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:e.onSubmit}},[e._v("\n                        提交\n                    ")]),e._v(" "),a("el-button",[e._v("取消")])],1)],1)],1)])])},staticRenderFns:[]},o=a("VU/8")(l,s,!1,null,null,null);t.default=o.exports}});