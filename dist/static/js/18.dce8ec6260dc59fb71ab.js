webpackJsonp([18],{GRbL:function(t,e){},tC2a:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n={data:function(){return{pagesize:10,PageIndex:1,TotalCount:0,table:[],dialogVisible:!1,InOutReason:{var:"",data:[]},Qty:0,WarehouseId:"",ProductId:""}},activated:function(){this.initialization()},methods:{initialization:function(){this.getSpotInventory(),this.getInOutReason()},handleSizeChange:function(t){this.pagesize=t,this.getSpotInventory()},handleCurrentChange:function(t){this.PageIndex=t,this.getSpotInventory()},getSpotInventory:function(){var t=this;this.$http.get("/api/SpotInventory/GetSpotInventory",{params:{PageIndex:this.PageIndex,PageSize:this.pagesize,ProductId:"",WarehouseId:""}}).then(function(e){t.table=e.data.EntityList,t.TotalCount=e.data.TotalCount,t.PageIndex=e.data.PageIndex,console.log(e.data.EntityList)})},getInOutReason:function(){var t=this;this.$http.get("/api/InOutReason/GetOutReason",{}).then(function(e){e.data.length>0&&(t.InOutReason.data=e.data,t.InOutReason.val=e.data[0].Id,console.log(e.data))})},showAddOutBound:function(t){this.dialogVisible=!0,this.WarehouseId=t.WarehouseId,this.ProductId=t.ProductId,console.log(t)},addOutBound:function(){var t=this;this.$http.get("/api/InOutBound/AddOutBound",{params:{InOutReasonId:this.InOutReason.val,WarehouseId:this.WarehouseId,ProductId:this.ProductId,Qty:this.Qty,Note:"",CreateUserId:"W001"}}).then(function(e){t.dialogVisible=!1,t.Id="",t.getSpotInventory()})},inBound:function(){this.$router.push({path:"addinbound",query:{parentid:this.id}})}}},i={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"container"},[a("div",{staticClass:"handle-box"},[a("el-button",{staticClass:"handle-del mr10",staticStyle:{width:"80px"},attrs:{type:"primary",icon:"delete"},on:{click:t.inBound}},[t._v("入库")])],1),t._v(" "),a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.table}},[a("el-table-column",{staticStyle:{width:"5%"},attrs:{type:"selection"}}),t._v(" "),a("el-table-column",{staticStyle:{width:"20%"},attrs:{prop:"WarehouseName",label:"库房"}}),t._v(" "),a("el-table-column",{staticStyle:{width:"30%"},attrs:{prop:"ProductChineseName",label:"产品"}}),t._v(" "),a("el-table-column",{staticStyle:{width:"20%"},attrs:{prop:"Qty",label:"数量"}}),t._v(" "),a("el-table-column",{staticStyle:{width:"20%"},attrs:{prop:"Price",label:"成本"}}),t._v(" "),a("el-table-column",{staticStyle:{width:"5%"},attrs:{label:"操作"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{type:"text",size:"small"},on:{click:function(a){t.showAddOutBound(e.row)}}},[t._v("\n                    出库\n                ")])]}}])})],1),t._v(" "),a("div",{staticClass:"block"},[a("el-pagination",{attrs:{"current-page":t.PageIndex,"page-sizes":[5,10,20,100],"page-size":t.pagesize,layout:"total, sizes, prev, pager, next, jumper",total:t.TotalCount},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange}})],1),t._v(" "),a("el-dialog",{attrs:{title:"出库",visible:t.dialogVisible,width:"30%"},on:{"update:visible":function(e){t.dialogVisible=e}}},[a("el-form",{ref:"form",attrs:{"label-width":"80px"}},[a("el-form-item",{attrs:{label:"出库原因"}},[a("el-select",{staticClass:"handle-select mr10",staticStyle:{width:"80%"},attrs:{clearable:"",placeholder:"请选择入库原因"},model:{value:t.InOutReason.val,callback:function(e){t.$set(t.InOutReason,"val",e)},expression:"InOutReason.val"}},t._l(t.InOutReason.data,function(t){return a("el-option",{key:t.Id,attrs:{label:t.Description,value:t.Id}})}))],1),t._v(" "),a("el-form-item",{attrs:{label:"出库数量"}},[a("el-input",{staticStyle:{width:"80%"},attrs:{type:"number"},model:{value:t.Qty,callback:function(e){t.Qty=e},expression:"Qty"}})],1)],1),t._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.dialogVisible=!1}}},[t._v("取 消")]),t._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:t.addOutBound}},[t._v("确 定")])],1)],1)],1)},staticRenderFns:[]};var o=a("VU/8")(n,i,!1,function(t){a("GRbL")},null,null);e.default=o.exports}});